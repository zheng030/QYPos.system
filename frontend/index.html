<!DOCTYPE html>
<html lang="zh-Hant">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <title>POS é»é¤ç³»çµ±</title>
Â  Â  <link rel="stylesheet" href="style.css?v=15">
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body ontouchstart="">

Â  Â  <div id="receipt-print-area"></div>
Â  Â  <div id="toast-container"></div>

Â  Â  <div id="login-screen">
Â  Â  Â  Â  <div class="login-box">
Â  Â  Â  Â  Â  Â  <h1>ğŸ” ç³»çµ±ç™»å…¥</h1>
Â  Â  Â  Â  Â  Â  <p>è«‹è¼¸å…¥å“¡å·¥å¯†ç¢¼</p>
Â  Â  Â  Â  Â  Â  <input type="password" id="loginPass" placeholder="å¯†ç¢¼" onkeydown="if(event.keyCode==13) checkLogin()">
Â  Â  Â  Â  Â  Â  <button onclick="checkLogin()" class="btn-effect">é€²å…¥ç³»çµ±</button>
Â  Â  Â  Â  Â  Â  <p id="loginError" style="color:#ef476f; display:none; margin-top:10px;">âŒ å¯†ç¢¼éŒ¯èª¤</p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="summaryModal" class="modal"><div class="modal-content"><h2>ğŸ“… æœ¬æ—¥ç‡Ÿæ¥­çµç®—</h2><div class="summary-item"><span>ğŸ“¦ ç¸½è¨‚å–®æ•¸</span><span id="sumCount">0 å–®</span></div><div class="summary-item"><span>ğŸ’° ç‡Ÿæ¥­ç¸½é¡</span><span id="sumTotal" style="color:#ef476f;">$0</span></div><hr><p style="color:#666; font-size:14px;">ç¢ºèªå¾Œå°‡å®Œæˆæ—¥çµï¼Œè³‡æ–™æœƒè‡ªå‹•å¯«å…¥å ±è¡¨ã€‚</p><div class="modal-actions"><button onclick="closeSummaryModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmClearData()" class="btn-effect confirm-success">âœ… ç¢ºèªæ—¥çµ</button></div></div></div>
Â  Â  Â  Â  <div id="paymentModal" class="modal"><div class="modal-content"><h2>ğŸ’° çµå¸³ç¢ºèª</h2><div class="payment-info"><div class="pay-row"><span>æ‡‰æ”¶é‡‘é¡ <small id="payDiscLabel" style="color:#888;"></small>ï¼š</span><span id="payOriginal" style="font-weight:bold;">$0</span></div><div class="pay-row"><span>$ æŠ˜è®“/æŠ¹é›¶ï¼š</span><input type="number" id="payAllowance" value="" oninput="calcFinalPay()" placeholder="è¼¸å…¥é‡‘é¡" style="color:#ef476f;" class="modal-input big-input"></div><hr><div class="pay-row large"><span>å¯¦æ”¶é‡‘é¡ï¼š</span><input type="number" id="payFinal" style="color:#ef476f; font-weight:bold;" class="modal-input big-input"></div></div><div class="modal-actions"><button onclick="closePaymentModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmCheckout()" class="btn-effect confirm-success">âœ… ç¢ºèªæ”¶æ¬¾</button></div></div></div>
Â  Â  Â  Â  <div id="checkoutModal" class="modal"><div class="modal-content" style="max-width:900px;"><div class="modal-header"><h2>âœ‚ æ‹†å–®çµå¸³</h2></div><div class="modal-body"><p style="color:#666; margin-bottom: 15px;">é»æ“Šå·¦é‚Šå“é …ç§»è‡³å³é‚Šé€²è¡Œçµå¸³</p><div class="split-checkout-container"><div class="checkout-box left-box"><h3>ğŸ“¦ æœªçµå¸³å“é …</h3><div id="unpaidList" class="checkout-list"></div></div><div class="split-arrow">â¡</div><div class="checkout-box right-box"><h3>ğŸ’³ æœ¬æ¬¡çµå¸³</h3><div id="payingList" class="checkout-list"></div><div class="split-options"><input type="number" id="splitDisc" placeholder="% æŠ˜æ‰£" oninput="calcSplitTotal()" class="split-input"><input type="number" id="splitAllow" placeholder="$ æŠ˜è®“" oninput="calcSplitTotal()" class="split-input"></div><div class="checkout-total">ç¸½è¨ˆ: <span id="payTotal">$0</span></div></div></div></div><div class="modal-actions"><button onclick="closeCheckoutModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmPayment()" class="btn-effect confirm-success">âœ… ç¢ºèªçµå¸³</button></div></div></div>
Â  Â  Â  Â  <div id="reprintSelectionModal" class="modal"><div class="modal-content" style="max-width:400px;"><div class="modal-header"><h2>ğŸ–¨ é¸æ“‡è£œå–®é …ç›®</h2></div><div class="modal-body" style="max-height:400px; overflow-y:auto;"><p style="color:#666; font-size:14px; margin-bottom:10px;">è«‹å‹¾é¸è¦åˆ—å°çš„é …ç›®ï¼š</p><div id="reprintList"></div></div><div class="modal-actions"><button onclick="closeReprintModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmReprintSelection()" class="btn-effect confirm-success">âœ… ç¢ºèªåˆ—å°</button></div></div></div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="ownerLoginModal" class="modal">
Â  Â  Â  Â  Â  Â  <div class="modal-content" style="padding: 40px; border-radius: 20px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="modal-header" style="border:none; padding-bottom: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="font-size: 28px; color: #333;">ğŸ” è«‹é¸æ“‡èº«åˆ†</h2>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-body" style="padding-top: 20px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="owner-buttons" style="display:flex; flex-direction:column; gap:15px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="checkOwner('æ™¯å‰')" class="btn-effect owner-btn" style="padding:15px; font-size:18px; border-radius:12px; background:#e0f2fe; color:#007bff; display:flex; align-items:center; justify-content:center; gap:10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:24px;">ğŸ‘¨â€ğŸ’¼</span> æ™¯å‰ (ç¸½ç®¡)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="checkOwner('å°é£›')" class="btn-effect owner-btn" style="padding:15px; font-size:18px; border-radius:12px; background:#fce7f3; color:#ec4899; display:flex; align-items:center; justify-content:center; gap:10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:24px;">ğŸ¸</span> å°é£› (é…’å§)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="checkOwner('å¨å¿—')" class="btn-effect owner-btn" style="padding:15px; font-size:18px; border-radius:12px; background:#ffedd5; color:#f97316; display:flex; align-items:center; justify-content:center; gap:10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:24px;">ğŸ–</span> å¨å¿— (ç‡’çƒ¤)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button onclick="closeOwnerModal()" class="btn-effect" style="margin-top:20px; background:transparent; color:#999; width:100%;">å–æ¶ˆ</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="changePasswordModal" class="modal"><div class="modal-content"><h2>ğŸ”‘ ä¿®æ”¹å¯†ç¢¼ - <span id="pwdOwnerName"></span></h2><div style="margin-top:15px;"><input type="password" id="oldPwd" placeholder="è¼¸å…¥èˆŠå¯†ç¢¼" class="pwd-input modal-input"><input type="password" id="newPwd" placeholder="è¼¸å…¥æ–°å¯†ç¢¼" class="pwd-input modal-input"><input type="password" id="confirmPwd" placeholder="å†æ¬¡ç¢ºèªæ–°å¯†ç¢¼" class="pwd-input modal-input"></div><div class="modal-actions"><button onclick="closeChangePasswordModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmChangePassword()" class="btn-effect confirm-primary">âœ… ç¢ºèªä¿®æ”¹</button></div></div></div>
Â  Â  <div id="discountModal" class="modal"><div class="modal-content"><div class="modal-header"><h2>% æŠ˜æ‰£è¨­å®š</h2></div><div class="modal-body" style="text-align: center; padding: 30px 0;"><div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px;"><input type="number" id="discInput" placeholder="è¼¸å…¥æŠ˜æ‰£é¡åº¦" class="modal-input big-input" style="width: 200px; text-align:center;" oninput="updateDiscPreview()"> <span style="font-size: 24px; font-weight: bold; color: #555;">%</span></div><p id="discPreviewText" style="color: #06d6a0; font-weight: bold; font-size: 18px; min-height: 27px;"></p></div><div class="modal-actions"><button onclick="closeDiscountModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmDiscount()" class="btn-effect confirm-warning">ç¢ºå®š</button></div></div></div>
Â  Â  <div id="allowanceModal" class="modal"><div class="modal-content"><div class="modal-header"><h2>$ é‡‘é¡æŠ˜è®“</h2></div><div class="modal-body" style="text-align:center; padding:30px 0;"><p style="font-size:18px; color:#555; margin-bottom:15px;">é¸æ“‡æŠ˜è®“é‡‘é¡</p><div style="display:flex; justify-content:center; align-items:center; gap:10px;"><span style="font-size:24px; color:#ef476f;">- $</span><input type="number" id="allowInput" placeholder="è¼¸å…¥é‡‘é¡" class="modal-input big-input" style="width:160px; text-align:center;"></div></div><div class="modal-actions"><button onclick="closeAllowanceModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmAllowance()" class="btn-effect confirm-primary">ç¢ºå®š</button></div></div></div>
Â  Â  <div id="financeDetailModal" class="modal"><div class="modal-content"><div class="modal-header"><h2 id="fdTitle">ğŸ“… è²¡å‹™æ˜ç´°</h2></div><div class="modal-body"><div class="fin-detail-card bar-style"><h3>ğŸº é…’å§éƒ¨</h3><div class="fin-row"><span>ç‡Ÿæ”¶</span><span id="fdBarRev">$0</span></div><div class="fin-row"><span>æˆæœ¬</span><span id="fdBarCost" class="red-text">$0</span></div><hr><div class="fin-row total"><span>æ¯›åˆ©</span><span id="fdBarProfit">$0</span></div></div><div class="fin-detail-card bbq-style"><h3>ğŸ– ç‡’çƒ¤éƒ¨</h3><div class="fin-row"><span>ç‡Ÿæ”¶</span><span id="fdBbqRev">$0</span></div><div class="fin-row"><span>æˆæœ¬</span><span id="fdBbqCost" class="red-text">$0</span></div><hr><div class="fin-row total"><span>æ¯›åˆ©</span><span id="fdBbqProfit">$0</span></div></div><div class="fin-detail-card total-style"><h3>ğŸ  å…¨åº—ç¸½è¨ˆ</h3><div class="fin-row"><span>ç¸½ç‡Ÿæ”¶</span><span id="fdTotalRev">$0</span></div><div class="fin-row"><span>ç¸½æˆæœ¬</span><span id="fdTotalCost" class="red-text">$0</span></div><hr><div class="fin-row total large"><span>ç¸½æ·¨åˆ©</span><span id="fdTotalProfit">$0</span></div></div></div><div class="modal-actions"><button onclick="closeFinanceDetailModal()" class="btn-effect" style="background:#6c757d; color:white;">é—œé–‰</button></div></div></div>
Â  Â  
Â  Â  Â  Â  <div id="itemStatsModal" class="modal"><div class="modal-content" style="max-width: 900px; height: 80vh; display: flex; flex-direction: column;"><div class="modal-header"><h2>ğŸ“ˆ å•†å“éŠ·å”®çµ±è¨ˆ (å³æ™‚)</h2></div><div class="report-controls" style="margin-top: 15px;"><button onclick="renderItemStats('day', this)" id="statBtnDay" class="btn-effect active">ä»Šæ—¥</button><button onclick="renderItemStats('week', this)" id="statBtnWeek" class="btn-effect">æœ¬å‘¨</button><button onclick="renderItemStats('month', this)" id="statBtnMonth" class="btn-effect">ç•¶æœˆ</button></div><div class="stats-body" style="flex: 1; overflow-y: auto; display: flex; gap: 20px; padding: 10px;"><div class="stats-column"><h3 style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white; padding: 10px; border-radius: 8px 8px 0 0; margin-top:0;">ğŸº é…’å§éƒ¨</h3><div class="stats-header-row"><span>å“é …</span><span>æ•¸é‡</span></div><div id="statsListBar"></div></div><div class="stats-column"><h3 style="background: linear-gradient(135deg, #ff9a9e, #fecfef); color: #333; padding: 10px; border-radius: 8px 8px 0 0; margin-top:0;">ğŸ– ç‡’çƒ¤éƒ¨</h3><div class="stats-header-row"><span>å“é …</span><span>æ•¸é‡</span></div><div id="statsListBbq"></div></div></div><div class="modal-actions"><button onclick="closeItemStatsModal()" class="btn-effect" style="background:#6c757d; color:white;">é—œé–‰</button></div></div></div>

Â  Â  <div id="customModal" class="modal"><div class="modal-content" style="text-align:left;"><div class="modal-header"><h2 style="text-align:center; margin:0;">ğŸ¹ <span id="customTitle">éš±è—ç‰¹èª¿</span>å®¢è£½åŒ–</h2></div><div class="modal-body"><div class="custom-section"><div class="custom-label">1. é¦™æ°£é¸æ“‡</div><div class="radio-group"><label class="radio-box"><input type="radio" name="flavor" value="èŠ±é¦™èª¿" checked><div class="radio-btn btn-effect">èŠ±é¦™èª¿ ğŸŒ¸</div></label><label class="radio-box"><input type="radio" name="flavor" value="æœé¦™èª¿"><div class="radio-btn btn-effect">æœé¦™èª¿ ğŸ</div></label><label class="radio-box"><input type="radio" name="flavor" value="æœ¨è³ªèª¿"><div class="radio-btn btn-effect">æœ¨è³ªèª¿ ğŸŒ²</div></label></div></div><div class="custom-section"><div class="custom-label">2. å£æ„Ÿåå¥½</div><div class="radio-group"><label class="radio-box"><input type="radio" name="taste" value="åé…¸" checked><div class="radio-btn btn-effect">åé…¸ ğŸ‹</div></label><label class="radio-box"><input type="radio" name="taste" value="åç”œ"><div class="radio-btn btn-effect">åç”œ ğŸ¯</div></label><label class="radio-box"><input type="radio" name="taste" value="åè‹¦"><div class="radio-btn btn-effect">åè‹¦ â˜•</div></label><label class="radio-box"><input type="radio" name="taste" value="åé¹¹"><div class="radio-btn btn-effect">åé¹¹ ğŸ§‚</div></label></div></div><div id="modalAlcoholSection" class="custom-section"><div class="custom-label">3. æ¿ƒåº¦èª¿æ•´ (<span id="alcoholVal">0</span>%)</div><input type="range" id="alcoholRange" min="0" max="100" step="10" value="0" style="width:100%; margin: 15px 0;" oninput="document.getElementById('alcoholVal').innerText=this.value"><div style="display:flex;justify-content:space-between;font-size:12px;color:#888; margin-bottom:10px;"><span>æ­£å¸¸</span><span>åŠ é‡</span><span>é›™å€</span></div><button id="extraShotBtn" onclick="toggleExtraShot()" class="extra-shot-btn btn-effect">ğŸº æ¿ƒåº¦å‡ç´š (+$40)</button></div><div id="modalNoteSection" class="custom-section" style="display:none;"><div class="custom-label">3. å‚™è¨» (é¸å¡«)</div><textarea id="customNote" rows="2" placeholder="ä¾‹å¦‚ï¼šå°‘å†°ã€ä¸è¦è£é£¾..." class="modal-input" style="width:100%;"></textarea></div></div><div class="modal-actions"><button onclick="closeCustomModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmCustomItem()" class="btn-effect confirm-success">âœ… ç¢ºèªåŠ å…¥</button></div></div></div>
Â  Â  <div id="drinkModal" class="modal"><div class="modal-content" style="text-align:left;"><div class="modal-header"><h2 style="text-align:center; margin:0;">ğŸ¥¤ <span id="drinkTitle">é£²æ–™</span>é¸é …</h2></div><div class="modal-body" style="padding-top: 20px;"><div id="simpleTempSection" class="custom-section" style="display:none;"><div class="custom-label">æº«åº¦é¸æ“‡</div><div class="radio-group"><label class="radio-box"><input type="radio" name="simpleTemp" value="å†°" checked><div class="radio-btn btn-effect">ğŸ§Š å†°</div></label><label class="radio-box"><input type="radio" name="simpleTemp" value="ç†±"><div class="radio-btn btn-effect">ğŸ”¥ ç†±</div></label></div></div><div id="advanceTempSection" class="custom-section" style="display:none;"><div class="custom-label">å†°å¡Š/æº«åº¦</div><div class="radio-group" style="font-size:14px;"><label class="radio-box"><input type="radio" name="advTemp" value="å»å†°" checked><div class="radio-btn btn-effect">å»å†°</div></label><label class="radio-box"><input type="radio" name="advTemp" value="å¾®å†°"><div class="radio-btn btn-effect">å¾®å†°</div></label><label class="radio-box"><input type="radio" name="advTemp" value="å°‘å†°"><div class="radio-btn btn-effect">å°‘å†°</div></label><label class="radio-box"><input type="radio" name="advTemp" value="æº«"><div class="radio-btn btn-effect">æº«</div></label><label class="radio-box"><input type="radio" name="advTemp" value="ç†±"><div class="radio-btn btn-effect">ç†±</div></label></div></div><div id="sugarSection" class="custom-section" style="display:none;"><div class="custom-label">ç”œåº¦é¸æ“‡</div><div class="radio-group"><label class="radio-box"><input type="radio" name="sugar" value="ç„¡ç³–" checked><div class="radio-btn btn-effect">ç„¡ç³–</div></label><label class="radio-box"><input type="radio" name="sugar" value="å¾®ç³–"><div class="radio-btn btn-effect">å¾®ç³–</div></label><label class="radio-box"><input type="radio" name="sugar" value="å°‘ç³–"><div class="radio-btn btn-effect">å°‘ç³–</div></label><label class="radio-box"><input type="radio" name="sugar" value="å…¨ç³–"><div class="radio-btn btn-effect">å…¨ç³–</div></label></div></div></div><div class="modal-actions"><button onclick="closeDrinkModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmDrinkItem()" class="btn-effect confirm-success">âœ… ç¢ºèªåŠ å…¥</button></div></div></div>
Â  Â  <div id="foodOptionModal" class="modal"><div class="modal-content" style="text-align:left;"><div class="modal-header"><h2 style="text-align:center; margin:0;">ğŸ› <span id="foodTitle">é¤é»</span>é…æ–™</h2></div><div class="modal-body" style="padding-top: 20px;"><div class="custom-section"><div class="custom-label">è«‹é¸æ“‡é…æ–™ï¼š</div><div class="radio-group nowrap" id="meatOptions"></div></div></div><div class="modal-actions"><button onclick="closeFoodModal()" class="btn-effect cancel">å–æ¶ˆ</button><button onclick="confirmFoodItem()" class="btn-effect confirm-success">âœ… ç¢ºèªåŠ å…¥</button></div></div></div>
Â  Â Â 
Â  Â  <div id="qrCodeModal" class="modal"><div class="modal-content" style="text-align: center;"><div class="modal-header"><h2>ğŸ“² å®¢äººé»é¤ QR Code</h2></div><div style="padding: 20px; display: flex; flex-direction: column; align-items: center;"><h3 id="qrTableTitle" style="color: #4361ee; margin-bottom: 10px;"></h3><div id="qrcode" style="margin: 10px auto;"></div><p style="color: #666; font-size: 14px; margin-top: 15px;">è«‹æƒææ­¤æ¢ç¢¼å³å¯é–‹å§‹é»é¤</p></div><div class="modal-actions"><button onclick="closeQrModal()" class="btn-effect" style="background:#6c757d; color:white;">é—œé–‰</button></div></div></div>

Â  Â  <div id="incomingOrderModal" class="modal">
Â  Â  Â  Â  <div class="modal-content" style="border-top: 5px solid #ff006e;">
Â  Â  Â  Â  Â  Â  <div class="modal-header">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="color:#ff006e;">ğŸ”” æ–°çš„é¡§å®¢è¨‚å–®ï¼</h2>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-body" style="text-align: center;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="incomingTableTitle" style="font-size: 24px; margin: 10px 0;"></h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color:#666;">é¡§å®¢å‰›å‰›é€å‡ºäº†ä»¥ä¸‹é¤é»ï¼š</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="incomingList" style="background:#fff0f3; padding:15px; border-radius:10px; text-align:left; max-height:200px; overflow-y:auto; margin-bottom:20px;"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-actions">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="rejectIncomingOrder()" class="btn-effect" style="background:#f1f5f9; color:#666;">âŒ å¿½ç•¥/æ‹’çµ•</button>
Â  Â  Â  åœ¨ tableSelect çš„çµæ§‹ä¸­ï¼Œæˆ‘å·²ç¶“æ’é™¤äº† Modal å…§å®¹çš„èª¤é¡¯ç¤ºï¼Œä¸¦ä½¿ç”¨äº† `table-grid-custom` ä½ˆå±€ã€‚

### ğŸ“„ æª”æ¡ˆäº”ï¼š`style.css` (è¦†è“‹ - å¼·åˆ¶ä¿®æ­£ç¶²æ ¼èˆ‡ Modal æ¨£å¼)

æˆ‘å°‡åœ¨ `style.css` ä¸­åŠ å…¥ `!important` ç¢ºä¿ä¸»é é¢çš„ç¶²æ ¼ä½ˆå±€ç”Ÿæ•ˆï¼Œä¸¦ç¢ºä¿ Modal é è¨­æ˜¯éš±è—çš„ã€‚

```css
/* style.css - å®Œæ•´ç‰ˆ (åŒ…å«æˆæœ¬ç¾åŒ–ã€éŠ·é‡çµ±è¨ˆåŠæ–°è¨‚å–®æ‹–æ›³ä»‹é¢) */

/* ========== 1. å…¨åŸŸè¨­å®š (ç¾ä»£åŒ–é¢¨æ ¼) ========== */
:root {
Â  Â  --primary-color: #4361ee;Â  Â  Â  Â /* ä¸»è‰²èª¿ï¼šç¾ä»£è— */
Â  Â  --secondary-color: #3f37c9;Â  Â  Â /* æ¬¡è‰²èª¿ */
Â  Â  --accent-color: #f72585;Â  Â  Â  Â  /* å¼·èª¿è‰²ï¼šç«ç´… */
Â  Â  --success-color: #06d6a0;Â  Â  Â  Â /* æˆåŠŸ/ç¢ºèª */
Â  Â  --warning-color: #ffd166;Â  Â  Â  Â /* è­¦å‘Š/æš«å­˜ */
Â  Â  --danger-color: #ef476f;Â  Â  Â  Â  /* å±éšª/åˆªé™¤ */
Â  Â  --bg-color: #f4f7f6;Â  Â  Â  Â  Â  Â  /* èƒŒæ™¯è‰²ï¼šæ¥µæ·¡ç°ç¶  */
Â  Â  --card-bg: #ffffff;Â  Â  Â  Â  Â  Â  Â /* å¡ç‰‡èƒŒæ™¯ */
Â  Â  --text-main: #2b2d42;Â  Â  Â  Â  Â  Â /* ä¸»è¦æ–‡å­— */
Â  Â  --text-sub: #8d99ae;Â  Â  Â  Â  Â  Â  /* æ¬¡è¦æ–‡å­— */
Â  Â  --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
Â  Â  --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
Â  Â  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
Â  Â  --radius-md: 12px;
Â  Â  --radius-lg: 20px;
}

body {
Â  Â  font-family: "Noto Sans TC", "Microsoft JhengHei", -apple-system, BlinkMacSystemFont, sans-serif;
Â  Â  margin: 0;
Â  Â  background-color: var(--bg-color);
Â  Â  color: var(--text-main);
Â  Â  text-align: center;
Â  Â  -webkit-tap-highlight-color: transparent;
Â  Â  touch-action: manipulation;Â 
Â  Â  overscroll-behavior: none;
}

button {
Â  Â  cursor: pointer;
Â  Â  font-family: inherit;
Â  Â  user-select: none;
Â  Â  border: none;
Â  Â  outline: none;
Â  Â  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-effect:active { transform: scale(0.96); opacity: 0.9; }

/* æ»¾å‹•æ¢ç¾åŒ– */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

#toast-container {
Â  Â  position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%) translateY(20px);
Â  Â  background: rgba(43, 45, 66, 0.9); color: white; padding: 12px 30px;
Â  Â  border-radius: 50px; font-size: 15px; font-weight: 500; z-index: 20000;
Â  Â  opacity: 0; transition: all 0.3s ease; pointer-events: none; box-shadow: var(--shadow-lg);
}

/* Modal é è¨­éš±è— (ä¿®æ­£èª¤é¡¯ç¤ºå•é¡Œ) */
.modal { 
    display: none; 
    position: fixed; 
    left: 0; 
    top: 0; 
    width: 100%; 
    height: 100%; 
    background-color: rgba(15, 23, 42, 0.6); 
    backdrop-filter: blur(4px); 
    justify-content: center; 
    align-items: center; 
    z-index: 10000; 
}


/* ========== 2. ç™»å…¥ç•«é¢ & å…¨åŸŸæ’ç‰ˆ ========== */
#login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%); display: flex; justify-content: center; align-items: center; z-index: 9999; }
.login-box { background: rgba(255, 255, 255, 0.95); padding: 50px 40px; border-radius: var(--radius-lg); width: 320px; box-shadow: 0 20px 50px rgba(0,0,0,0.3); text-align: center; }
.login-box h1 { margin-bottom: 10px; color: var(--primary-color); font-size: 28px; }
.login-box p { color: var(--text-sub); margin-bottom: 30px; }
.login-box input { width: 100%; padding: 15px; margin-bottom: 20px; border: 2px solid #eef2f6; border-radius: var(--radius-md); font-size: 18px; text-align: center; box-sizing: border-box; transition: border-color 0.3s; }
.login-box button { width: 100%; padding: 15px; font-size: 18px; background: var(--primary-color); color: white; border-radius: var(--radius-md); font-weight: bold; box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3); }

#app-container { padding-bottom: 40px; }
.title { font-size: 28px; font-weight: 800; margin-bottom: 25px; color: var(--text-main); text-align: left; border-left: 5px solid var(--primary-color); padding-left: 15px; }

/* Home & Header - **å¼·åˆ¶ç¶²æ ¼ä½ˆå±€** */
#home { 
Â  Â  display: grid !important; 
Â  Â  grid-template-columns: repeat(3, 1fr) !important; 
Â  Â  gap: 20px; 
Â  Â  padding: 30px; 
Â  Â  max-width: 1000px; 
Â  Â  margin: 0 auto; 
}
.menu-btn { background: var(--card-bg); border-radius: var(--radius-lg); padding: 25px 15px; font-size: 17px; font-weight: 600; color: var(--text-main); box-shadow: var(--shadow-sm); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 110px; gap: 10px; transition: all 0.3s ease; border: 1px solid transparent; }
.menu-btn:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); border-color: var(--primary-color); color: var(--primary-color); }
.header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: var(--card-bg); padding: 15px 20px; border-radius: var(--radius-md); box-shadow: var(--shadow-sm); }
.back { background: #edf2f7; color: var(--text-main); padding: 10px 20px; border-radius: 50px; font-size: 15px; font-weight: bold; }
#systemTime { font-size: 15px; font-weight: 600; color: var(--text-sub); background: #f8f9fa; padding: 8px 16px; border-radius: 50px; }

/* ========== 3. æ¡Œä½ç®¡ç†ä»‹é¢ (Table Select) - å¤§æ”¹å‹•æ¨£å¼ ========== */

.table-grid-custom { 
    display: grid; 
    grid-template-columns: repeat(4, 1fr); 
    gap: 20px; 
}
.table-container { 
    position: relative;
    background: linear-gradient(145deg, #ffffff, #f0f0f0); 
    padding: 15px 10px; 
    border-radius: var(--radius-lg); 
    box-shadow: var(--shadow-md);
    min-height: 150px;
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 3px solid transparent;
    transition: all 0.2s;
}

.table-container b.table-name { 
    font-size: 22px; 
    font-weight: 800;
    margin-bottom: 10px;
    color: var(--text-main);
    z-index: 2;
}

.order-list-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 5px 0;
}

/* æ–°å¢è¨‚å–®å¡ç‰‡æ¨£å¼ */
.order-card {
    background: #e0e7ff; /* è¨‚å–®å¡ç‰‡åº•è‰² */
    border-radius: 10px;
    padding: 8px 12px;
    cursor: pointer;
    box-shadow: var(--shadow-sm);
    border-left: 5px solid var(--primary-color);
    transition: all 0.2s;
    user-select: none;
}

.order-card:hover {
    background: #c7d2fe;
    transform: translateY(-2px);
}

.order-card.dragging {
    opacity: 0.5;
    transform: scale(0.95);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    font-weight: 600;
    color: var(--primary-color);
    margin-bottom: 5px;
}

.card-body {
    text-align: left;
    font-size: 14px;
}
.card-body .card-info {
    display: flex;
    justify-content: space-between;
    font-weight: 500;
}
.card-body b {
    color: var(--danger-color);
}
.new-badge {
    background: var(--danger-color);
    color: white;
    font-size: 10px;
    padding: 2px 5px;
    border-radius: 3px;
    display: inline-block;
    margin-top: 5px;
    font-weight: bold;
}

/* æ–°å¢è¨‚å–®æŒ‰éˆ• */
.add-order-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    width: 30px;
    height: 30px;
    background: var(--success-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    line-height: 1;
    z-index: 10;
}

/* æš«å­˜å€æ¨£å¼ */
.standby-zone {
    grid-column: 1 / -1;
    background: var(--card-bg);
    border: 2px dashed #ff9a9e;
    border-radius: var(--radius-lg);
    padding: 20px;
    margin-bottom: 20px;
}
.standby-zone .zone-title {
    color: var(--danger-color);
    font-size: 18px;
    margin-bottom: 15px;
}

/* ç‹€æ…‹é¡è‰²ç¹¼æ‰¿ */
.table-container.status-yellow { border-color: var(--warning-color); }
.table-container.status-red { border-color: var(--danger-color); }


/* å…¶ä»–é é¢æ¨£å¼ï¼ˆä¿æŒä¸è®Šæˆ–å·²å„ªåŒ–ï¼‰ */

/* ========== 3. é»é¤é é¢ (OrderPage) ========== */
.order-header { background: var(--card-bg); padding: 15px 25px; border-radius: var(--radius-lg); display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; box-shadow: var(--shadow-sm); }
.customer-input-box { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px; }
.customer-input-box input { width: 100%; padding: 15px; font-size: 16px; border: 2px solid #eef2f6; border-radius: var(--radius-md); }
#menuGrid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
.categoryBtn { background: var(--card-bg); border-radius: var(--radius-md); padding: 20px 10px; font-size: 16px; font-weight: bold; color: var(--text-main); box-shadow: var(--shadow-sm); }
.item { display: flex; justify-content: space-between; align-items: center; padding: 18px 20px; border-bottom: 1px solid #f1f5f9; background: var(--card-bg); }
.item b { color: var(--primary-color); margin-left: 8px; }
.item button { background: #ecfdf5; color: #059669; padding: 8px 20px; border-radius: 50px; font-size: 15px; font-weight: bold; }
.item.sold-out { opacity: 0.6; filter: grayscale(100%); pointer-events: none; position: relative; background: #f8f9fa; }
.item.sold-out::after { content: "å”®ç½„"; position: absolute; right: 80px; background: #ef476f; color: white; padding: 2px 8px; font-size: 12px; border-radius: 4px; font-weight: bold; }
.sub-cat-title { grid-column: 1 / -1; text-align: left; font-size: 18px; font-weight: 700; color: var(--primary-color); background: #e0e7ff; padding: 12px 20px; border-radius: 8px; margin: 20px 0 10px 0; }
.accordion-header { width: 100%; background: white; color: var(--text-main); padding: 18px 25px; border-radius: var(--radius-md); margin-top: 12px; font-size: 17px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; grid-column: 1 / -1; box-shadow: var(--shadow-sm); }
.accordion-content { display: none; grid-column: 1 / -1; }
.accordion-content.show { display: block; }

/* Shopping Cart */
#cart-container { background: var(--card-bg); border-radius: var(--radius-lg); padding: 25px; margin-top: 25px; box-shadow: var(--shadow-md); }
#cart-list { max-height: 350px; overflow-y: auto; margin-bottom: 20px; border: 1px solid #f1f5f9; border-radius: var(--radius-md); }
.cart-item-row { display: grid; grid-template-columns: 2fr 1fr auto auto; align-items: center; gap: 10px; padding: 15px; border-bottom: 1px solid #f1f5f9; background: white; }
.cart-item-price { font-size: 16px; font-weight: bold; color: var(--primary-color); text-align: right;}
.treat-btn { background: #e0f2fe; color: #0284c7; padding: 6px 12px; border-radius: 6px; font-size: 13px; font-weight: bold; }
.del-btn { background: #fee2e2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 13px; font-weight: bold; }
.summary-controls { display: flex; gap: 12px; margin-bottom: 15px; }
.control-btn { background: white; border: 1px solid #e2e8f0; color: var(--text-sub); padding: 10px; border-radius: 8px; font-weight: bold; flex: 1; }
.control-btn.active { background: #e0e7ff; color: var(--primary-color); border-color: var(--primary-color); }
.total-display p { margin: 0; font-size: 26px; font-weight: 800; color: var(--accent-color); text-align: right; }
.action-buttons-compact { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 12px; margin-top: 20px; }
.action-btn { padding: 15px 5px; font-size: 16px; font-weight: bold; color: white; border-radius: var(--radius-md); }
.save-btn { background: var(--warning-color); color: #744210; }
.checkout-btn { background: var(--primary-color); }
.batch-blue { border-left: 5px solid #007bff !important; background-color: #e0f2fe !important; }
.batch-red { border-left: 5px solid #ef476f !important; background-color: #fee2e2 !important; }
.batch-green { border-left: 5px solid #06d6a0 !important; background-color: #d1fae5 !important; }
.cart-item-row.sent-item { background: #f8f9fa; border-left: 5px solid #adb5bd; }

/* ========== 4. ä»Šæ—¥è¨‚å–® (History) ========== */
.history-header-row { display: grid !important; grid-template-columns: 0.6fr 1fr 2fr 1fr 1fr auto !important; background: #334155; color: white; padding: 15px; border-radius: 12px 12px 0 0; font-weight: bold; font-size: 15px; }
.history-row { display: grid !important; grid-template-columns: 0.6fr 1fr 2fr 1fr 1fr auto !important; background: white; padding: 18px 15px; border-bottom: 1px solid #f1f5f9; align-items: center; font-size: 15px; transition: background 0.2s; }
.history-row:hover { background: #f8fafc; }
.hist-actions button { background: #e2e8f0; color: #475569; padding: 5px 8px; border-radius: 6px; font-size: 12px; }
.end-business-btn { background: #fee2e2; color: #ef476f; padding: 12px 20px; border-radius: 50px; font-weight: bold; font-size: 16px; margin-top: 20px; width: 100%; }

/* ========== 5. å ±è¡¨ & çµ±è¨ˆ & æ¬Šé™é é¢ ========== */
.segment-control-container { position: relative; display: flex; background: #e2e8f0; border-radius: 50px; padding: 4px; width: 320px; margin: 0 auto 30px; }
.segment-option { flex: 1; text-align: center; padding: 8px 0; font-weight: bold; color: #64748b; z-index: 2; }
.segment-highlighter { position: absolute; top: 4px; bottom: 4px; left: 4px; width: calc(33.33% - 5px); background: white; border-radius: 50px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 1; transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1); }
.report-dashboard { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
.stat-card { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 10px 20px -5px rgba(0,0,0,0.1); color: white; position: relative; overflow: hidden; text-align: left; }

.finance-layout { display: flex; gap: 25px; align-items: flex-start; }
.calendar-container-left { flex: 2; background: white; padding: 20px; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
.finance-summary-sidebar { flex: 1; display: flex; flex-direction: column; gap: 15px; }
.finance-controls button.active { background: white; color: var(--primary-color); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

/* ç†±éŠ·çµ±è¨ˆåˆ—è¡¨æ¨£å¼ (å³æ™‚ & æœˆå ±) */
.stats-body { display: flex; flex-wrap: wrap; gap: 20px; }
.stats-column { flex: 1; min-width: 300px; background: white; border-radius: var(--radius-md); padding: 0; border: 1px solid #e2e8f0; overflow: hidden; }
.stats-column h3 { margin: 0; padding: 15px; text-align: center; }
.stats-header-row { display: flex; justify-content: space-between; padding: 10px 20px; background: #f8fafc; font-weight: bold; color: var(--text-sub); border-bottom: 1px solid #eee; text-align: center; }
.stats-item-row { display: flex; justify-content: space-between; padding: 12px 20px; border-bottom: 1px solid #f1f5f9; font-size: 15px; }
.stats-count { font-weight: bold; background: #edf2f7; padding: 2px 10px; border-radius: 20px; font-size: 13px; color: #333; }
.top-stat-item:nth-child(2) { color: #d33; font-weight: bold; background: #fff5f5; } /* Top 1 */
.top-stat-item:nth-child(3) { color: #007bff; font-weight: bold; } /* Top 2 */
.top-stat-item:nth-child(4) { color: #059669; font-weight: bold; } /* Top 3 */


/* ğŸ”¥ æˆæœ¬è¼¸å…¥é é¢ç¾åŒ– */
#costInputSection {
Â  Â  background: var(--card-bg);
Â  Â  border-radius: var(--radius-lg);
Â  Â  padding: 25px;
Â  Â  box-shadow: var(--shadow-md);
}
#costEditTitle {
Â  Â  font-size: 24px;
Â  Â  color: var(--primary-color);
Â  Â  border-bottom: 3px solid var(--primary-color);
Â  Â  padding-bottom: 10px;
Â  Â  margin-bottom: 20px;
Â  Â  text-align: left;
}
.cost-header-row {
Â  Â  display: grid;
Â  Â  grid-template-columns: 2fr 1fr 1fr;
Â  Â  gap: 10px;
Â  Â  background: #334155;
Â  Â  color: white;
Â  Â  padding: 12px 15px;
Â  Â  border-radius: 8px 8px 0 0;
Â  Â  font-weight: bold;
Â  Â  font-size: 15px;
Â  Â  text-align: center;
}
.cost-header-row span:nth-child(1) { text-align: left; }
.cost-category-header {
Â  Â  grid-column: 1 / -1;
Â  Â  text-align: left;
Â  Â  font-size: 18px;
Â  Â  font-weight: 700;
Â  Â  color: var(--accent-color);
Â  Â  background: #fef2f4;
Â  Â  padding: 10px 15px;
Â  Â  border-radius: 8px;
Â  Â  margin: 15px 0 5px 0;
}
.cost-editor-row {
Â  Â  display: grid;
Â  Â  grid-template-columns: 2fr 2fr;
Â  Â  align-items: center;
Â  Â  padding: 12px 15px;
Â  Â  border-bottom: 1px solid #f1f5f9;
Â  Â  font-size: 15px;
Â  Â  text-align: left;
}
.cost-item-name {
Â  Â  font-weight: 500;
}
.cost-input-group {
Â  Â  display: grid;
Â  Â  grid-template-columns: 1fr 1fr;
Â  Â  gap: 10px;
}
.cost-input-group input {
Â  Â  padding: 8px;
Â  Â  border: 1px solid #ddd;
Â  Â  border-radius: 6px;
Â  Â  text-align: center;
Â  Â  font-size: 15px;
}
.cost-input-price { color: var(--primary-color); }
.cost-input-cost { color: var(--danger-color); }

/* RWD */
@media (max-width: 900px) {
Â  Â  #home { grid-template-columns: repeat(3, 1fr) !important; }
Â  Â  .table-grid-custom { grid-template-columns: repeat(3, 1fr); }
Â  Â  #menuGrid { grid-template-columns: repeat(3, 1fr); } 
Â  Â  .report-dashboard { grid-template-columns: 1fr; }
Â  Â  .finance-layout { flex-direction: column; }
Â  Â  .finance-summary-sidebar { flex-direction: row; overflow-x: auto; padding-bottom: 5px; }
Â  Â  .summary-card { min-width: 260px; }
}
@media (max-width: 600px) {
Â  Â  #home { grid-template-columns: repeat(2, 1fr) !important; }
    .table-grid-custom { grid-template-columns: repeat(2, 1fr); }
Â  Â  #tableSelectGrid { grid-template-columns: repeat(3, 1fr); }
Â  Â  #menuGrid { grid-template-columns: repeat(2, 1fr); }
Â  Â  .finance-summary-sidebar { flex-direction: column; }
Â  Â  .action-buttons-compact { grid-template-columns: 1fr 1fr; }
Â  Â  .cost-header-row { grid-template-columns: 1fr 1fr 1fr; }
Â  Â  .cost-editor-row { grid-template-columns: 1fr 2fr; }
Â  Â  .cost-input-group { grid-template-columns: 1fr 1fr; }
}

/* åˆ—å°å°ˆç”¨æ¨£å¼ */
@media print {
Â  Â  body * { visibility: hidden; }
Â  Â  #receipt-print-area, #receipt-print-area * { visibility: visible; }
Â  Â  #receipt-print-area { position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 0; background: white; z-index: 99999; }
Â  Â  .modal, #app-container, #login-screen { display: none !important; }
}
